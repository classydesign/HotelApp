<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/jsbarcode/3.6.0/JsBarcode.all.min.js"></script>
  
 <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">

  <title>Document</title>
  <style>
    canvas{
        width:100%;
        
      }

      @media screen {
        #printSection {
            display: none;
        }
      }
      
      @media print {
        body * {
          visibility:hidden;
        }
        #printSection, #printSection * {
          visibility:visible;
        }
        #printSection {
          position:absolute;
          left:0;
          top:0;
        }
      }
      
      
      .barcodebox{
        width:100%;height:1191px;text-align: center;justify-content: center;
        border:1px solid gray;text-align:center;margin-bottom:10px;
      }
.barcode{
    width:100%;text-align:center;height:1000px;justify-content: center;
}
      
  </style>
</head>
<body>



    <!---------------------->
<div class="wrap">
    <h1>Bootstrap Modal Example</h1>
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#MyModal">
      Large modal
    </button>
  </div>
   <div >
  <div id="MyModal" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" >
    
    <div class="modal-dialog modal-lg">
      
      <!-- Modal Content: begins -->
      <div class="modal-content">
        

        <div class="modal-header">
   <div>Number of barcode <div class="barcodenumber"></div></div>
            <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
        <button id="btnPrint" type="button" class="btn btn-default ">Print</button>
        </div>
      
        <!-- Modal Body -->  
        <div class="modal-body" id="printThis">
          <div class="body-message">
       
            <div class="">
                <div class="">

                
            <div class="  barcode1"></div>
        </div>
    </div>
          </div>
        </div>
      
        <!-- Modal Footer -->
        <div class="modal-footer">
         <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
        <button id="btnPrint2" type="button" class="btn btn-default ">Print</button>
        </div>
      
      </div>
      <!-- Modal Content: ends -->
      
    </div>
      </div>
  </div>
  
  
  
  

  
  
  
  
  </div>
  
<script>

/*document.getElementById("btn").addEventListner("click",function (){
var value = document.getElementById("usr").value;
JsBarcode("#barcode", value);
  
  });*/

function go(){
  
    var value = document.getElementById("usr").value;
    JsBarcode("#barcode", value);
  }
  
  downloadBarCode =function (el){
    var canvas = document.getElementById("barcode");
    var image = canvas.toDataURL("image/jpg");
    el.href = image;
  };




document.getElementById("btnPrint").onclick = function () {
    printElement(document.getElementById("printThis"));
}

document.getElementById("btnPrint2").onclick = function () {
    printElement(document.getElementById("printThis"));
}

function printElement(elem) {
    var domClone = elem.cloneNode(true);
    
    var $printSection = document.getElementById("printSection");
    
    if (!$printSection) {
        var $printSection = document.createElement("div");
        $printSection.id = "printSection";
        document.body.appendChild($printSection);
    }
    
    $printSection.innerHTML = "";
    $printSection.appendChild(domClone);
    window.print();
}

createBarCode();
var vals ="";
function createBarCode(){
  
  var data =[{
    "name":"test",
    "number":2
  }
            ]
 var barcodetxt ="";
 $(".barcodenumber").html("")
$(".barcodenumber").html(data[0]['number']);
  for(i=0;i<data[0]['number'];i++){
    
   // alert(data[i]['number']);
    // alert();
    //barcodetxt += "<div>"+data[i]['name']+"</div>";
    
    barcodetxt += "<div class='barcodebox' ><svg class='barcode' > <div style='font-size:2rem;'>"+data[0]['name']+"</div><br><div style='font-size:2rem;'>hello</div></svg></div>";
    
    
     $(".barcode1").append(barcodetxt);
  barcodetxt ="";
 vals = data[0]['name'];
barcode(vals);
//JsBarcode(".barcode", data[i]['name']);
  }

}


function barcode(vals){
//alert(vals);
    JsBarcode(".barcode", vals);
}
</script>
</body>
</html>
